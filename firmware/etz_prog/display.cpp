#include "allclass.h"

void OLEDMenu::init() {
  pinMode(upBtn, INPUT);
  pinMode(downBtn, INPUT);
  pinMode(selectBtn, INPUT);

  display->begin(SSD1306_SWITCHCAPVCC);
  display->clearDisplay();

  start();
  drawcar();
}

void OLEDMenu::update() {
  if (millis() - lastTime < 200)
    return;

  if (!digitalRead(upBtn)) {
    selected--;
    if (selected < 0)
      selected = modeCount - 1;
    showMenu();
    lastTime = millis();
  }

  if (!digitalRead(downBtn)) {
    selected++;
    if (selected >= modeCount)
      selected = 0;
    showMenu();
    lastTime = millis();
  }

  if (!digitalRead(selectBtn)) {
    modeSelected = selected;
    showSelected();
    lastTime = millis();
  }
}

int OLEDMenu::getSelected() {
  int temp = -1;
  temp = modeSelected;
  modeSelected = -1;
  return temp;
}

void OLEDMenu::setLastTime(uint64_t timer) {
  lastTime = timer;
}

void OLEDMenu::showText(String text) {
  display->clearDisplay();
  display->setTextSize(1);
  display->setTextColor(WHITE);
  display->setCursor(0, 0);
  display->println(text);
  display->display();
}

void OLEDMenu::showMenu() {
  display->clearDisplay();
  display->setTextSize(1);
  display->setTextColor(WHITE);

  display->setCursor(0, 20);
  display->print("> ");
  display->println(modes[selected]);

  if (selected < modeCount - 1) {
    display->setCursor(0, 35);
    display->print("  ");
    display->println(modes[selected + 1]);
  }

  if (selected > 0) {
    display->setCursor(0, 10);
    display->print("  ");
    display->println(modes[selected - 1]);
  }

  display->display();
}

void OLEDMenu::showSelected() {
  display->clearDisplay();
  display->setTextSize(1);
  display->setCursor(0, 20);
  display->print("go: ");
  display->println(modes[selected]);
  display->display();
  delay(500);
  marvel();
}

void OLEDMenu::calibr_sens() {
  display->clearDisplay();

  display->setTextSize(1);
  display->setTextColor(WHITE);
  display->setCursor(0, 20);
  display->print("left: ");
  display->println(EEPROM.read(0) * 4);
  display->print("right: ");
  display->println(EEPROM.read(1) * 4);
  display->display();
  delay(500);
}

void OLEDMenu::sensorsdisp() {
  display->clearDisplay();
  display->setTextSize(1);
  display->setTextColor(WHITE);
  display->setCursor(0, 20);
  display->print("left: ");
  display->println(EEPROM.read(2) * 4);
  display->print("right: ");
  display->println(EEPROM.read(3) * 4);
  display->display();
  delay(500);
}

void OLEDMenu::drawcar() {
  display->clearDisplay();

  /*
  display->fillRoundRect(20, 25, 88, 20, 5, WHITE);  
  display->fillTriangle(50, 25, 70, 15, 120, 25, WHITE); 
  display->fillCircle(35, 45, 8, WHITE);  
  display->fillCircle(93, 45, 8, WHITE); 
  
  display->display();*/


  static const unsigned char PROGMEM image_DolphinNice_bits[] = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x80, 0x07, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x70, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x0c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf8, 0x0c, 0x00, 0x00, 0x0f, 0xe0, 0x08, 0x00, 0x00, 0x00, 0x00, 0x07, 0x07, 0x1a, 0x80, 0x00, 0x10, 0x10, 0x08, 0x00, 0x00, 0x00, 0x00, 0x08, 0x00, 0xf5, 0x40, 0x00, 0x20, 0x08, 0x04, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x1e, 0xa0, 0x00, 0x4f, 0xc4, 0x02, 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x03, 0xc0, 0x00, 0x5c, 0x64, 0x02, 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x60, 0x00, 0x5c, 0xe4, 0x02, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x5c, 0xe4, 0x02, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x5f, 0xe4, 0x01, 0x00, 0x00, 0x00, 0x00, 0x47, 0x80, 0x00, 0x00, 0x00, 0x5f, 0xe4, 0x01, 0x00, 0x00, 0x00, 0x00, 0x48, 0x60, 0x00, 0x00, 0x00, 0x2f, 0xca, 0x01, 0x00, 0x00, 0x00, 0x00, 0x50, 0x1c, 0x00, 0x00, 0x00, 0x1f, 0x95, 0x01, 0x00, 0x00, 0x00, 0x00, 0x20, 0x03, 0x80, 0x00, 0x00, 0x20, 0x6a, 0x81, 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x60, 0x00, 0x00, 0x00, 0x15, 0x01, 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x18, 0x00, 0x00, 0x00, 0x0a, 0x81, 0x00, 0x00, 0x18, 0x00, 0x20, 0x00, 0x06, 0x00, 0x00, 0x00, 0x0d, 0x01, 0x00, 0x00, 0x24, 0x00, 0x10, 0x00, 0x01, 0x80, 0x00, 0x00, 0x0a, 0x01, 0x00, 0x00, 0x44, 0x00, 0x10, 0x00, 0x00, 0x60, 0x00, 0x00, 0x0c, 0x01, 0x00, 0x07, 0x84, 0x00, 0x08, 0x00, 0x00, 0x18, 0x00, 0x08, 0x08, 0x01, 0x00, 0x18, 0x44, 0x00, 0x04, 0x00, 0x00, 0x06, 0x00, 0x30, 0x00, 0x01, 0x00, 0x20, 0x24, 0x00, 0x02, 0x00, 0x00, 0x01, 0x81, 0xc0, 0x00, 0x01, 0x00, 0x40, 0x24, 0x00, 0x01, 0x40, 0x00, 0x00, 0x7e, 0x00, 0x00, 0x01, 0x00, 0x80, 0x14, 0x00, 0x00, 0xa8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x80, 0x12, 0x00, 0x00, 0x74, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x80, 0x11, 0x00, 0x00, 0x1a, 0x80, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x80, 0x10, 0xc0, 0x00, 0x0d, 0x40, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x80, 0x20, 0x30, 0x00, 0x02, 0xa8, 0x00, 0x00, 0x00, 0x00, 0x01, 0x80, 0x40, 0x40, 0x0c, 0x00, 0x01, 0x55, 0x40, 0x00, 0x00, 0x00, 0x03, 0x80, 0x3f, 0x80, 0x03, 0x00, 0x01, 0xaa, 0xaa, 0x00, 0x00, 0x00, 0x03, 0xc0, 0x10, 0x00, 0x00, 0xe0, 0x01, 0xd5, 0x55, 0x00, 0x00, 0x00, 0x03, 0xe0, 0x08, 0x00, 0x00, 0x1c, 0x0f, 0xaa, 0xa8, 0x00, 0x00, 0x00, 0x03, 0xe0, 0x04, 0x00, 0x00, 0x03, 0xfb, 0x55, 0x00, 0x00, 0x00, 0x00, 0x03, 0xf0, 0x02, 0x00, 0x00, 0x00, 0x56, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xf0, 0x01, 0x00, 0x00, 0x01, 0x2a, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0xf8, 0x00, 0x80, 0x00, 0x00, 0x54, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x78, 0x00, 0x40, 0x00, 0x00, 0xac, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0xbc, 0x00, 0x20, 0x00, 0x02, 0x58, 0x00, 0x00, 0x00, 0x00, 0x00, 0x05, 0x5c, 0x00, 0x10, 0x00, 0x00, 0xa8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0xbe, 0x00, 0x08, 0x00, 0x02, 0x50, 0x00, 0x00, 0x00, 0x00, 0x00, 0x05, 0x5e, 0x00, 0x04, 0x00, 0x00, 0xb0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0xaf, 0x00, 0x03, 0x00, 0x01, 0x50, 0x00, 0x00, 0x00, 0x00, 0x00, 0x05, 0x57, 0x00, 0x00, 0x80, 0x04, 0xa0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0xaf, 0x00, 0x00, 0x60, 0x01, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x05, 0x57, 0x00, 0x00, 0x10, 0x02, 0xa0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0xa3, 0x00, 0x00, 0x0c, 0x09, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x05, 0x53, 0x00, 0x00, 0x03, 0x02, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0xa1, 0x00, 0x00, 0x00, 0xe1, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x05, 0x41, 0x00, 0x00, 0x00, 0x1e, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0xa1, 0x00, 0x00, 0x00, 0x03, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x05, 0x40 };


  display->drawBitmap(16, 6, image_DolphinNice_bits, 96, 59, 1);

  display->setTextColor(1);
  display->setTextSize(1);
  display->setTextWrap(false);
  display->setCursor(3, 5);
  display->print("Oliv car");

  display->display();
}

void OLEDMenu::marvel() {

  //static const unsigned char PROGMEM image_download_bits[] = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x03, 0xff, 0x03, 0xff, 0x07, 0xfc, 0x0f, 0xfe, 0x0f, 0xf0, 0x7f, 0x7f, 0xfc, 0xfe, 0x21, 0x00, 0x03, 0xff, 0x03, 0xff, 0x07, 0xfc, 0x0f, 0xff, 0x87, 0xf0, 0x7f, 0x7f, 0xfc, 0xfe, 0x5d, 0x00, 0x03, 0xff, 0x03, 0xff, 0x07, 0xfc, 0x0f, 0xff, 0xc7, 0xf0, 0xff, 0x7f, 0xfc, 0xfe, 0x50, 0x80, 0x03, 0xff, 0x07, 0xff, 0x07, 0xfc, 0x0f, 0xff, 0xe7, 0xf0, 0xff, 0x7f, 0xfc, 0xfe, 0x54, 0x80, 0x03, 0xff, 0x87, 0xff, 0x0f, 0xfe, 0x0f, 0xff, 0xf7, 0xf0, 0xff, 0x7f, 0xfc, 0xfe, 0x55, 0x00, 0x03, 0xff, 0x87, 0xff, 0x0f, 0xfe, 0x0f, 0xff, 0xf7, 0xf0, 0xff, 0x7f, 0xfc, 0xfe, 0x21, 0x00, 0x03, 0xff, 0x87, 0xff, 0x0f, 0xfe, 0x0f, 0xff, 0xf7, 0xf0, 0xfe, 0x7f, 0xfc, 0xfe, 0x1e, 0x00, 0x03, 0xff, 0x87, 0xff, 0x0f, 0xfe, 0x0f, 0xff, 0xff, 0xf0, 0xfe, 0x7f, 0xfc, 0xfe, 0x00, 0x00, 0x03, 0xff, 0x87, 0xff, 0x0f, 0xfe, 0x0f, 0xff, 0xfb, 0xf8, 0xfe, 0x7f, 0xfc, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xcf, 0xff, 0x0f, 0xfe, 0x0f, 0xe7, 0xfb, 0xf8, 0xfe, 0x7f, 0x00, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xcf, 0xff, 0x1f, 0xfe, 0x0f, 0xe3, 0xfb, 0xf8, 0xfe, 0x7f, 0x00, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xcf, 0xff, 0x1f, 0xfe, 0x0f, 0xe3, 0xfb, 0xf9, 0xfe, 0x7f, 0x00, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xcf, 0xff, 0x1f, 0xff, 0x0f, 0xe3, 0xfb, 0xf9, 0xfc, 0x7f, 0x00, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xcf, 0xff, 0x1f, 0xff, 0x0f, 0xe3, 0xfb, 0xf9, 0xfc, 0x7f, 0x00, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xef, 0xff, 0x1f, 0xbf, 0x0f, 0xe3, 0xfb, 0xf9, 0xfc, 0x7f, 0x00, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xff, 0xff, 0x1f, 0xbf, 0x0f, 0xe3, 0xf9, 0xf9, 0xfc, 0x7f, 0xf8, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xff, 0xff, 0x3f, 0xbf, 0x0f, 0xe3, 0xf9, 0xf9, 0xfc, 0x7f, 0xf8, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xff, 0xff, 0x3f, 0xbf, 0x0f, 0xe3, 0xf9, 0xf9, 0xf8, 0x7f, 0xf8, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xff, 0xff, 0x3f, 0xbf, 0x0f, 0xe7, 0xf9, 0xf9, 0xf8, 0x7f, 0xf8, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xff, 0xff, 0x3f, 0x3f, 0x8f, 0xff, 0xf1, 0xfd, 0xf8, 0x7f, 0xf8, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xff, 0xff, 0x3f, 0x3f, 0x8f, 0xff, 0xf1, 0xff, 0xf8, 0x7f, 0xf8, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xff, 0xff, 0x3f, 0x3f, 0x8f, 0xff, 0xe1, 0xff, 0xf8, 0x7f, 0xf8, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xff, 0xff, 0x3f, 0x3f, 0x8f, 0xff, 0xc0, 0xff, 0xf8, 0x7f, 0xf8, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xff, 0xff, 0x7f, 0x3f, 0x8f, 0xff, 0x80, 0xff, 0xf0, 0x7f, 0xf8, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xff, 0xff, 0x7f, 0x3f, 0x8f, 0xff, 0xc0, 0xff, 0xf0, 0x7f, 0x00, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xff, 0xff, 0x7f, 0x1f, 0x8f, 0xff, 0xc0, 0xff, 0xf0, 0x7f, 0x00, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xff, 0xff, 0x7f, 0xff, 0xcf, 0xef, 0xc0, 0xff, 0xf0, 0x7f, 0x00, 0xfe, 0x00, 0x00, 0x03, 0xff, 0xfe, 0xff, 0x7f, 0xff, 0xcf, 0xef, 0xe0, 0xff, 0xf0, 0x7f, 0x00, 0xfe, 0x00, 0x00, 0x03, 0xfd, 0xfe, 0xff, 0x7f, 0xff, 0xcf, 0xef, 0xe0, 0x7f, 0xf0, 0x7f, 0x00, 0xfe, 0x00, 0x00, 0x03, 0xfd, 0xfe, 0xff, 0xff, 0xff, 0xcf, 0xef, 0xe0, 0x7f, 0xe0, 0x7f, 0x00, 0xfe, 0x00, 0x00, 0x03, 0xfd, 0xfe, 0xff, 0xff, 0xff, 0xcf, 0xe7, 0xf0, 0x7f, 0xe0, 0x7f, 0xfc, 0xff, 0xf8, 0x00, 0x03, 0xfd, 0xfe, 0xff, 0xff, 0xff, 0xcf, 0xe7, 0xf0, 0x7f, 0xe0, 0x7f, 0xfc, 0xff, 0xf8, 0x00, 0x03, 0xfd, 0xfc, 0xff, 0xff, 0xff, 0xcf, 0xe7, 0xf0, 0x7f, 0xe0, 0x7f, 0xfc, 0xff, 0xf8, 0x00, 0x03, 0xfc, 0xfc, 0xff, 0xff, 0xff, 0xcf, 0xe7, 0xf0, 0x7f, 0xe0, 0x7f, 0xfc, 0xff, 0xf8, 0x00, 0x03, 0xfc, 0xfc, 0xff, 0xff, 0xff, 0xef, 0xe3, 0xf8, 0x7f, 0xc0, 0x7f, 0xfc, 0xff, 0xf8, 0x00, 0x03, 0xfc, 0xfc, 0xff, 0xfe, 0x0f, 0xef, 0xe3, 0xf8, 0x3f, 0xc0, 0x7f, 0xfc, 0xff, 0xf8, 0x00, 0x03, 0xfc, 0xfc, 0xff, 0xfe, 0x0f, 0xef, 0xe3, 0xf8, 0x3f, 0xc0, 0x7f, 0xfc, 0xff, 0xf8, 0x00, 0x03, 0xfc, 0xf8, 0xff, 0xfc, 0x0f, 0xef, 0xe3, 0xfc, 0x3f, 0xc0, 0x7f, 0xfc, 0xff, 0xf8, 0x00, 0x03, 0xfc, 0x78, 0xff, 0xfc, 0x0f, 0xef, 0xe1, 0xfc, 0x3f, 0xc0, 0x7f, 0xfc, 0xff, 0xf8, 0x00, 0x03, 0xfc, 0x78, 0xff, 0xfc, 0x0f, 0xef, 0xe1, 0xfc, 0x3f, 0xc0, 0x7f, 0xfc, 0xff, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 };

  static const unsigned char PROGMEM image_download_1_bits[] = { 0xff, 0x81, 0xc0, 0x03, 0xf0, 0x38, 0x03, 0x80, 0xff, 0x81, 0xc0, 0x03, 0xf0, 0x38, 0x03, 0x80, 0xff, 0x81, 0xc0, 0x03, 0xf0, 0x38, 0x03, 0x80, 0xe0, 0x71, 0xc0, 0x1c, 0x0e, 0x07, 0x1c, 0x00, 0xe0, 0x71, 0xc0, 0x1c, 0x0e, 0x07, 0x1c, 0x00, 0xe0, 0x71, 0xc0, 0x1c, 0x0e, 0x07, 0x1c, 0x00, 0xff, 0x81, 0xc0, 0x1f, 0xfe, 0x00, 0xe0, 0x00, 0xff, 0x81, 0xc0, 0x1f, 0xfe, 0x00, 0xe0, 0x00, 0xff, 0x81, 0xc0, 0x1f, 0xfe, 0x00, 0xe0, 0x00, 0xe0, 0x01, 0xc0, 0x1c, 0x0e, 0x00, 0xe0, 0x00, 0xe0, 0x01, 0xc0, 0x1c, 0x0e, 0x00, 0xe0, 0x00, 0xe0, 0x01, 0xc0, 0x1c, 0x0e, 0x00, 0xe0, 0x00, 0xe0, 0x01, 0xff, 0x1c, 0x0e, 0x00, 0xe0, 0x00, 0xe0, 0x01, 0xff, 0x1c, 0x0e, 0x00, 0xe0, 0x00, 0xe0, 0x01, 0xff, 0x1c, 0x0e, 0x00, 0xe0, 0x00 };
  static const unsigned char PROGMEM image_download_bits[] = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x80, 0x00, 0x00, 0x00, 0x00, 0x03, 0x80, 0x00, 0x00, 0x00, 0x00, 0x03, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0x00, 0x00, 0x06, 0x60, 0x00, 0x00, 0x00, 0x00, 0x0c, 0x30, 0x00, 0x00, 0x00, 0x00, 0x0c, 0x30, 0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x00, 0x00, 0x00, 0x00, 0x30, 0x0c, 0x00, 0x00, 0x00, 0x00, 0x60, 0x06, 0x00, 0x00, 0x00, 0x00, 0x60, 0x26, 0x00, 0x00, 0x00, 0x00, 0xc0, 0x63, 0x00, 0x00, 0x00, 0x00, 0xcf, 0x53, 0x00, 0x00, 0x00, 0x01, 0x9f, 0xd1, 0x80, 0x00, 0x00, 0x03, 0x1f, 0xc1, 0x80, 0x00, 0x00, 0x03, 0x3f, 0xb8, 0xc0, 0x00, 0x00, 0x06, 0x1f, 0xfc, 0x60, 0x00, 0x00, 0x06, 0x0f, 0x7c, 0x60, 0x00, 0x00, 0x0c, 0x00, 0x78, 0x30, 0x00, 0x00, 0x0c, 0x00, 0x00, 0x30, 0x00, 0x00, 0x18, 0x00, 0x00, 0x18, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xf8, 0x00, 0x00, 0x3f, 0xff, 0xff, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x98, 0x00, 0x00, 0x00, 0x00, 0x00, 0x89, 0xcb, 0x3c, 0xe5, 0x00, 0x00, 0x8b, 0x6d, 0x24, 0x96, 0x00, 0x00, 0x89, 0xe9, 0xa5, 0xf6, 0x00, 0x00, 0x8b, 0x69, 0xa5, 0x84, 0x00, 0x00, 0xf3, 0xe9, 0xbc, 0xf4, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 };
  display->clearDisplay();
  display->drawBitmap(5, 10, image_download_bits, 48, 41, 1);
  display->drawBitmap(60, 22, image_download_1_bits, 57, 15, 1);
  display->display();
}

void OLEDMenu::pause() {
  static const unsigned char PROGMEM image_download_1_bits[] = { 0xff, 0xf0, 0x00, 0xff, 0x00, 0xf0, 0x0f, 0x00, 0xff, 0xf0, 0xff, 0xf0, 0xff, 0xf0, 0x00, 0xff, 0x00, 0xf0, 0x0f, 0x00, 0xff, 0xf0, 0xff, 0xf0, 0xff, 0xf0, 0x00, 0xff, 0x00, 0xf0, 0x0f, 0x00, 0xff, 0xf0, 0xff, 0xf0, 0xff, 0xf0, 0x00, 0xff, 0x00, 0xf0, 0x0f, 0x00, 0xff, 0xf0, 0xff, 0xf0, 0xf0, 0x0f, 0x0f, 0x00, 0xf0, 0xf0, 0x0f, 0x0f, 0x00, 0x00, 0xf0, 0x00, 0xf0, 0x0f, 0x0f, 0x00, 0xf0, 0xf0, 0x0f, 0x0f, 0x00, 0x00, 0xf0, 0x00, 0xf0, 0x0f, 0x0f, 0x00, 0xf0, 0xf0, 0x0f, 0x0f, 0x00, 0x00, 0xf0, 0x00, 0xf0, 0x0f, 0x0f, 0x00, 0xf0, 0xf0, 0x0f, 0x0f, 0x00, 0x00, 0xf0, 0x00, 0xff, 0xf0, 0x0f, 0xff, 0xf0, 0xf0, 0x0f, 0x00, 0xff, 0x00, 0xff, 0x00, 0xff, 0xf0, 0x0f, 0xff, 0xf0, 0xf0, 0x0f, 0x00, 0xff, 0x00, 0xff, 0x00, 0xff, 0xf0, 0x0f, 0xff, 0xf0, 0xf0, 0x0f, 0x00, 0xff, 0x00, 0xff, 0x00, 0xff, 0xf0, 0x0f, 0xff, 0xf0, 0xf0, 0x0f, 0x00, 0xff, 0x00, 0xff, 0x00, 0xf0, 0x00, 0x0f, 0x00, 0xf0, 0xf0, 0x0f, 0x00, 0x00, 0xf0, 0xf0, 0x00, 0xf0, 0x00, 0x0f, 0x00, 0xf0, 0xf0, 0x0f, 0x00, 0x00, 0xf0, 0xf0, 0x00, 0xf0, 0x00, 0x0f, 0x00, 0xf0, 0xf0, 0x0f, 0x00, 0x00, 0xf0, 0xf0, 0x00, 0xf0, 0x00, 0x0f, 0x00, 0xf0, 0xf0, 0x0f, 0x00, 0x00, 0xf0, 0xf0, 0x00, 0xf0, 0x00, 0x0f, 0x00, 0xf0, 0x0f, 0xf0, 0x0f, 0xff, 0x00, 0xff, 0xf0, 0xf0, 0x00, 0x0f, 0x00, 0xf0, 0x0f, 0xf0, 0x0f, 0xff, 0x00, 0xff, 0xf0, 0xf0, 0x00, 0x0f, 0x00, 0xf0, 0x0f, 0xf0, 0x0f, 0xff, 0x00, 0xff, 0xf0, 0xf0, 0x00, 0x0f, 0x00, 0xf0, 0x0f, 0xf0, 0x0f, 0xff, 0x00, 0xff, 0xf0 };
  static const unsigned char PROGMEM image_download_2_bits[] = { 0x38, 0x82, 0x44, 0x44, 0x84, 0x28, 0x84, 0x10, 0x8c, 0x28, 0x88, 0x44, 0x44, 0x82, 0x42, 0x00, 0x21, 0x00, 0x30, 0xbc, 0x18, 0x62, 0x0c, 0x02, 0x06, 0x02, 0x01, 0x84, 0x00, 0x78, 0x00, 0x00 };
  static const unsigned char PROGMEM image_download_3_bits[] = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x80, 0x51, 0x40, 0x8a, 0x20, 0x44, 0x40, 0x20, 0x80, 0x11, 0x00, 0x20, 0x80, 0x44, 0x40, 0x8a, 0x20, 0x51, 0x40, 0x20, 0x80, 0x00, 0x00, 0x00, 0x00 };
  static const unsigned char PROGMEM image_download_4_bits[] = { 0xc0, 0x00, 0xe0, 0x00, 0x98, 0x00, 0x86, 0x00, 0x81, 0x80, 0x80, 0x60, 0x80, 0x18, 0x80, 0x06, 0x80, 0x18, 0x80, 0x60, 0x81, 0x80, 0x86, 0x00, 0x98, 0x00, 0xe0, 0x00, 0xc0, 0x00, 0x00, 0x00 };
  static const unsigned char PROGMEM image_download_bits[] = { 0x21, 0xf0, 0x00, 0x16, 0x0c, 0x00, 0x08, 0x03, 0x00, 0x25, 0xf0, 0x80, 0x42, 0x0c, 0x40, 0x89, 0x02, 0x20, 0x10, 0xa1, 0x00, 0x23, 0x58, 0x80, 0x04, 0x24, 0x00, 0x08, 0x52, 0x00, 0x01, 0xa8, 0x00, 0x02, 0x04, 0x00, 0x00, 0x42, 0x00, 0x00, 0xa1, 0x00, 0x00, 0x40, 0x80, 0x00, 0x00, 0x00 };
  if (millis() - lastTime < 200)
    return;

  if (!digitalRead(selectBtn)) {
    display->clearDisplay();
    display->drawBitmap(6.5, 39, image_download_bits, 19, 16, 1);
    display->drawBitmap(17, 7, image_download_1_bits, 92, 20, 1);
    display->drawBitmap(37, 39, image_download_2_bits, 15, 16, 1);
    display->drawBitmap(68.5, 37, image_download_3_bits, 11, 16, 1);
    display->drawBitmap(94.5, 38, image_download_4_bits, 15, 16, 1);
    display->display();
    lastTime = millis();
    while (millis() - lastTime < 200)
      ;
    while (digitalRead(selectBtn))
      ;
    lastTime = millis();
    marvel();
  }
}

void OLEDMenu::start() {
  display->clearDisplay();

  display->drawRect(16, 14, 96, 19, 1);

  display->setTextColor(1);
  display->setTextSize(2);
  display->setTextWrap(false);
  display->setCursor(17, 38);
  display->print("starting");

  for (int i = 0; i < 96; i++) {
    display->drawRect(16, 14, i, 19, 1);
    delay(1);
    display->display();
  }
}